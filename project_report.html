<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Project Report</title>

<script src="site_libs/header-attrs-2.17/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cosmo.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Home</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="project_report.html">Project Report</a>
</li>
<li>
  <a href="data_processing.html">Data Pre-Processing</a>
</li>
<li>
  <a href="EDA.html">Exploratory Analysis</a>
</li>
<li>
  <a href="exploratory_analysis_dashboard.html">Exploratory Analysis Dashboard</a>
</li>
<li>
  <a href="statistical_analysis.html">Statistical Analysis</a>
</li>
<li>
  <a href="http://github.com/kpatpatt/p8105_final">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Project Report</h1>

</div>


<div id="motivation" class="section level2">
<h2>Motivation</h2>
<p>The overarching goal of this project was to analyze nutritional data
collected for popular restaurants for any geographic trends
(i.e. clusters of fast food restaurants in specific neighborhoods) in
relation to potential health outcomes within NYC communities. The
growing number of fast-food chains in the United States has pushed the
US into an era of food “convenience.” Since the industry’s inception in
1927, there are approximately 150 thousand convenience stores across the
US as of 2020.1–3 Their presence is ubiquitous; however, little is known
about the general distribution of fast-food chains in the US. In cities
like New York there seems to be a new chain on every corner of the city.
They provide quick and cheap food options, alongside fast food chains,
which could be the only option for many communities. Convenience stores
and fast food outlets alike are known to sell food products high in
fats, sugars, and salts.7 The presence of convenience stores and fast
food restaurants has been associated with higher BMI, higher obesity,
and increased hypertension.8,9 Residents of color living in rural,
low-income neighborhoods have inadequate access to supermarkets, chain
grocery stores, and diversity in food products.10</p>
<p>Fortunately, we were able to find a public dataset on over 100
popular national food chains and the menu items they each serve,
spanning from 2008-2020. This dataset, the MenuStat nutritional
database, was developed by the New York City Department of Health and
Mental Hygiene. The food chain types include sit-down restaurants, fast
food restaurants, convenience stores, and beverage and dessert shops.
Thus, we were motivated by this data to investigate trends in NYC. We
analyzed various trends in the nutritional content of the food available
at 54 food chains of various types across New York City.</p>
</div>
<div id="related-work" class="section level2">
<h2>Related Work</h2>
<p>When we began to think of how we wanted to analyze/visualize our
data, we realized the Menustat data frame doesn’t have any information
on the location of restaurants, just information on the menu items each
food outlet offers. Since we were interested in understanding
associations between neighborhood demographics and available food
options, we needed data that included the locations of each food outlet.
In class, we worked on the DOHMH New York City Restaurant Inspection
Results data (NYC OpenData) that includes location information. That
gave us the idea to use the Restaurants (rolled up) dataset from NYC
OpenData because it includes location information that we used to
identify the zip codes of each restaurant included in the Menustat data
frame. This allowed us to approximate which food chains of various types
and the nutritional content different NYC neighborhoods (zip codes) are
exposed to.</p>
</div>
<div id="initial-questions" class="section level2">
<h2>Initial Questions</h2>
<p>Most broadly, our team sought to investigate trends in nutritional
content (i.e., total calories, fat, protein content, etc.) of menu items
at popular fast-food chains over the timespan of 2008-2020 data. Within
these data, we stratified by restaurant type (fast-food, convenience
store, sit-down). Additionally, we wanted to look at the spatial
distribution of fast-food chains and convenience stores within the five
boroughs of New York City, in relation to demographic composition of the
neighborhoods in which they are located.</p>
</div>
<div id="data" class="section level2">
<h2>Data</h2>
<p>The data used for this project came from the following publicly
available sources:</p>
<p><a href="https://www.menustat.org/data.html">NYC DOHMH MenuStat
nutritional database</a> Menustat provides restaurant nutritional data
for specific foods and beverages served at national chains. Some of
these national chains do not have a presence in NYC, so filtering those
out was one of the first steps in our data cleaning process. Data from
MenuStat is available as separate Excel files for each year. Thus, the
first step in data cleaning was to combine these separate dataframes
into one, using the bind function. We then needed to convert all
nutritional metrics to numeric type format, in order to do further
analyses. The final step in cleaning this dataset was to create a new
factor variable denoting the restaurant type. The restaurant was decided
based on the type of menu items offered. The categories were: fast food,
sit-down, beverages &amp; dessert, and convenience stores.</p>
<p><a
href="https://data.cityofnewyork.us/Health/Restaurants-rolled-up-/59dk-tdhz/data">NYC
DOHMH Restaurant Inspections database</a> NYC Open Data provides
location data on annual restaurant inspections throughout New York City.
This dataset allowed us to identify NYC-specific restaurants in the
MenuStat dataset. Only restaurants that were found in both datasets were
included in our analyses for this project (n=54). We achieved this by
creating a new variable <code>dba</code> that included only restaurants
identified in the MenuStat dataset. The restaurant inspections dataset
was then filtered for only the restaurant type of <code>dba</code>, and
other relevant variables, such as borough and zipcode, were selected to
conduct location-based analyses. Additionally, for the purpose of the
statistical analyses, we summarised the number of occurrences of a
restaurant type (<code>rest_type</code>) within a zip code thereby
creating a new column with count data. Then, we used
<code>pivot_wider</code> to move our row-wise count metrics to column
variables for each restaurant type that corresponded to each zip code.
For linear regression analysis, we calculated the proportions of a
specific restaurant type within a zip code to be later used as our
outcome of interest. For logistic analysis, we used <code>ifelse</code>
statements to create binary outcome variables for restaurant types
<code>sit_down</code> and <code>fast_food</code> that indicated if they
were present in a zip code. However, in the case of
<code>fast_food</code> we observed a high prevalence across all zip
codes so to allow our logit model to converge, we used the median number
of fast-food restaurants found across all zip codes as a condition to
separate high and low prevalence (<code>fast_food</code> &gt; 10).</p>
<p>[American Community Survey (ACS) mean income, demographic and housing
estimate data] (<a
href="https://data.census.gov/cedsci/table?q=population%20demographics%20income&amp;g=0400000US36%248600000&amp;tid=ACSST5Y2020.S1902"
class="uri">https://data.census.gov/cedsci/table?q=population%20demographics%20income&amp;g=0400000US36%248600000&amp;tid=ACSST5Y2020.S1902</a>)
The American Community Survey (ACS) provides annual sampling data that
is based on approximately 3 million households across the United States.
We used 5-year community survey estimates to obtain sociodemographic
data at the zip code tabulation area (ZCTA) level for New York, NY. ACS
data was obtained using a unique Census API Key and imported using
<code>tidycensus</code> package version 1.3. Before loading 5-year ACS
estimates, we specified New York state and at the ZCTA geography level
for the years 2015 to 2019. We identified eleven variable codes that
corresponded with sociodemographic variables of interest and were
available across all years. We included sociodemographic variables such
as median household income, total population (continuous), race
(categorical), and sex (binary). For race, we created a summary metric
for non-White, non-Other racial categories that summed counts for Black,
Asian, American Indian/Alaskan Native, and Hawaiian/Pacific Islander
later renamed <code>bipoc</code> (black, indigenous, people of color) as
a measure to adjust for the low values observed in some categories. The
imported data frame from <code>tidycensus</code> was manipulated into a
wide dataformat and further used to mutate proportions of race and
biological sex by ZCTA.</p>
</div>
<div id="exploratory-analysis" class="section level2">
<h2>Exploratory Analysis</h2>
<p>We conducted exploratory analyses to visualize the nutritional
changes by restaurant type over time. Visualizations were created using
the ‘plotly’ package in R Studio. Initially, we plotted the distribution
of calories by restaurant type (for all years) in a box plot.
Additionally, we created another box plot with items with calorie counts
in the top 5% of restaurants. Lastly, we plotted the frequency of each
of these restaurants across NYC. In order to visualize changes in
nutritional content over time, we looked at calorie counts, fat, and
protein, as distributed by the three restaurant types (convenience
stores were omitted). Calorie distribution by restaurant type was
plotted using individual box plots for different time points (years:
2008, 2012, 2016, and 2020). Fat distribution (trans fat) was plotted in
the same way, as was protein.</p>
<p>Lastly, nutritional metrics and restaurant type were combined. We
created a box plot of Calorie Distribution by Food Category (appetizers,
baked goods, beverages, entrees, etc…) overlaid by restaurant type
(including convenience stores). This same plot was then re-created
without the overlay, so as to more clearly visualize the calorie
distribution in food categories by each restaurant type. The same
process was repeated for both fat distribution and protein
distribution.</p>
</div>
<div id="additional-statistical-analysis" class="section level2">
<h2>Additional Statistical Analysis</h2>
<p>We evaluated the relationship between the proportion of a sit down
and fast food restaurant to occur in a zip code and relevant
sociodemographic predictors. We used linear and logistic models at the
zip code level to estimate proportion of restaurant type based on
proportions of race (white, other, bipoc), sex (male and female), and
median household income (aggregated estimate at the zip code or ZCTA
level). We hypothesize that there are differential proportional declines
by racial category and household income in correspondence with having a
higher fast food restaurant occurrence proportional to any other type of
restaurant.</p>
<p>The hypothesis of these models was to see how the identified
sociodemographic variables would impact the presence of a restaurant
type throughout zip codes in NYC. To perform these analyses we had to
further modify the restaurant location dataframe and create proportions
of restaurant type for each zip code. We also mutated a factored binary
variable for restaurant type by zip code with 1 representing the
restaurant type is present and 0 representing the restaurant type was
absent. This manipulated restaurant type dataframe was joined with the
ACS dataframe by zip code to create a total dataframe with all variables
needed for analysis.</p>
<p>Then each model used the same set of predictors which included
proportion of the population that identifies as white, proportion of the
population that identifies in a BIPOC racial category, proportion of the
population that identifies as ‘other’, proportion of the population that
identifies with the biological sex female, and the median household
income. The first linear model utilized OLS regression to look at the
outcome, proportion of fast food restaurants, based on the described
predictors. The second model incorporated a binary logistic regression
to look at the outcome of a factor variable which indicated the presence
or absence of a fast food restaurant. The method used for both the
linear and logistic models was repeated for the outcome of sit down
restaurants which was represented as a proportion and binary factor
variable respectively for each model type. The linear fit for the
predictors female, BIPOC and median income were graphed for each of the
four models described above to further illustrate the relationships
within the models.</p>
</div>
<div id="discussion" class="section level2">
<h2>Discussion</h2>
<p>Distribution of calories remained roughly the same over all years,
whereas trans fat and protein distributions seemed to increase. When
visualizing nutritional content by food category, we see that sit-down
restaurants have the highest calorie and fat distribution over all food
categories. When it comes to protein, convenience stores and
beverages/desserts have the highest protein distributions (albeit with
much larger error bar ranges). This is likely due to the offering of
protein bars and protein shakes at these types of establishments, that
are not offered at regular or sit-down fast food restaurant chains. With
an increase of public awareness and initiatives for healthy eating since
2008, we would have expected that calories and trans fat distributions
would decrease over time, rather than remain constant.</p>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
